<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tr·∫Øc Nghi·ªám T√¨nh Y√™u</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Quicksand:wght@300..700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #9c27b0; /* M√†u t√≠m l√£ng m·∫°n */
            --correct-color: #4caf50;
            --wrong-color: #f44336;
        }
        body {
            margin: 0; padding: 20px; font-family: 'Quicksand', sans-serif; display: flex;
            flex-direction: column; justify-content: center; align-items: center; min-height: 100vh;
            background-image: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), url('https://images.unsplash.com/photo-1505968409348-bd000797c92e?q=80&w=2070&auto-format&fit=crop');
            background-repeat: no-repeat; background-position: center center; background-size: cover;
            color: white; text-align: center;
        }
        .quiz-container {
            background: rgba(255, 255, 255, 0.9);
            color: #333;
            max-width: 600px;
            width: 90%;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            animation: fade-in-up 1s forwards;
        }
        h1 {
            font-family: 'Playfair Display', serif;
            color: var(--primary-color);
            margin-top: 0;
        }
        #question-text {
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 20px;
            min-height: 50px;
        }
        .btn-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
        }
        .btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 15px;
            font-size: 1.1em;
            font-weight: bold;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }
        .btn:hover:not(:disabled) {
            background-color: #7b1fa2;
            transform: scale(1.02);
        }
        .btn.correct { background-color: var(--correct-color) !important; }
        .btn.wrong { background-color: var(--wrong-color) !important; }
        .btn:disabled { cursor: not-allowed; opacity: 0.7; }

        .controls {
            display: flex;
            justify-content: center;
            margin-top: 20px;
        }
        #next-btn {
            background-color: #333;
        }

        .hide { display: none; }

        #result-container h2 {
            font-family: 'Playfair Display', serif;
            color: var(--primary-color);
        }
        #result-message {
            font-size: 1.2em;
            font-weight: bold;
        }

        .navigation-links { display: flex; justify-content: center; gap: 15px; margin-top: 30px; flex-wrap: wrap; }
        .nav-button { background-color: var(--primary-color); color: white; border: none; padding: 10px 20px; font-size: 0.9em; font-weight: bold; border-radius: 50px; cursor: pointer; text-decoration: none; transition: all 0.3s; }
        .nav-button:hover { background-color: #7b1fa2; }

        @keyframes fade-in-up { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

<div class="quiz-container" id="quiz-container">
    <h1>Ch·ªã hi·ªÉu em ƒë·∫øn ƒë√¢u? üßê</h1>

    <div id="question-container">
        <div id="question-text">C√¢u h·ªèi s·∫Ω hi·ªán ·ªü ƒë√¢y</div>
        <div id="answer-buttons" class="btn-grid">
        </div>
    </div>

    <div class="controls">
        <button id="next-btn" class="btn hide">C√¢u ti·∫øp theo</button>
    </div>

    <div id="result-container" class="hide">
        <h2>Ho√†n th√†nh!</h2>
        <p id="score-text">Ch·ªã ƒë√∫ng 0/10 c√¢u!</p>
        <p id="result-message">D√π ƒë√∫ng hay sai, em v·∫´n y√™u ch·ªã ‚ù§Ô∏è</p>
        <button id="restart-btn" class="btn">Ch∆°i l·∫°i</button>
    </div>
</div>

<div class="navigation-links">
    <a th:href="@{/gui-chi}" class="nav-button">Quay l·∫°i Trang Th∆∞</a>
</div>

<script>
    // === QUAN TR·ªåNG: H√ÉY S·ª¨A L·∫†I 10 C√ÇU H·ªéI V√Ä ƒê√ÅP √ÅN C·ª¶A B·∫†N ·ªû ƒê√ÇY ===
    // S·ª≠a l·∫°i "text" v√† ƒë√°nh d·∫•u "correct: true" cho ƒë√°p √°n ƒë√∫ng
    const questions = [
        {
            question: "C√¢u h·ªèi 1: Ng√†y ƒë·∫ßu ti√™n m√¨nh g·∫∑p nhau l√† v√†o ng√†y bao nhi√™u?",
            answers: [
                { text: "18/10", correct: true }, // ƒê√¢y l√† ƒë√°p √°n ƒë√∫ng m·∫´u
                { text: "20/10", correct: false },
                { text: "30/10", correct: false }
            ]
        },
        {
            question: "C√¢u h·ªèi 2: M√¨nh ƒëi ƒë√¢u ƒë·∫ßu ti√™n khi v√†o aeon mall H√† ƒê√¥ng?",
            answers: [
                { text: "CGV", correct: false },
                { text: "H√†ng ƒÉn", correct: false },
                { text: "C·ª≠a h√†ng l∆∞u ni·ªám", correct: true }, // ƒê·ªïi ƒë√°p √°n ƒë√∫ng m·∫´u
                { text: "C·ª≠a h√†ng th·ªùi trang", correct: false }
            ]
        },
        {
            question: "C√¢u h·ªèi 3: Em th√≠ch ƒëi ch∆°i c√πng anh ƒë√∫ng kh√¥ng?",
            answers: [
                { text: "ƒê√∫ng", correct: true }, // M·∫´u c√¢u h·ªèi ƒë√∫ng/sai
                { text: "Sai", correct: false }
            ]
        },
        {
            question: "C√¢u h·ªèi 4: Bu·ªïi th·ª© 2 m√¨nh h·∫πn h√≤ ·ªü ƒë√¢u?",
            answers: [
                { text: "Times City", correct: false },
                { text: "Nh√† Anh", correct: true },
                { text: "Aeon H√† ƒê√¥ng", correct: false }
            ]
        },
        {
            question: "C√¢u h·ªèi 5: Nh√† h√†ng m√¨nh ƒÉn tr∆∞a ·ªü AEON H√† ƒê√¥ng l√†?",
            answers: [
                { text: "Pepper Lunch", correct: true },
                { text: "Texas", correct: false },
                { text: "KFC", correct: false },
                { text: "Lotteria", correct: false }
            ]
        },
        {
            question: "C√¢u h·ªèi 6: ƒê√¢u l√† qu√°n g√† r√°n m√¨nh ƒë√£ ƒëi ƒÉn m√† anh th√≠ch nh·∫•t?",
            answers: [
                { text: "KFC", correct: false },
                { text: "Lotteria", correct: false },
                { text: "BBQ Chicken", correct: true }
            ]
        },
        {
            question: "C√¢u h·ªèi 7: Ai follow ig c·ªßa ƒë·ªëi ph∆∞∆°ng tr∆∞·ªõc?",
            answers: [
                { text: "Em", correct: false },
                { text: "Anh", correct: true },

            ]
        },
        {
            question: "C√¢u h·ªèi 8: N·ª• h√¥n m√¥i ƒë·∫ßu c·ªßa ch√∫ng ta l√† ·ªü bu·ªïi h·∫πn th·ª© m·∫•y",
            answers: [
                { text: "Bu·ªïi 1", correct: false },
                { text: "Bu·ªïi 2", correct: true },
                { text: "Bu·ªïi 4", correct: false },
                { text: "Bu·ªïi 3", correct: false }

            ]
        },
        {
            question: "C√¢u h·ªèi 9: Anh y√™u em",
            answers: [
                { text: "Em c≈©ng y√™u anh", correct: true },
                { text: "Em c≈©ng th·∫ø", correct: true },
                { text: "Em y√™u ƒê·ª©c nhi·ªÅu ·∫°", correct: true },
                { text: "Em y√™u ng∆∞·ªùi y√™u em l·∫Ømmmmm", correct: true }
            ]
        },
        {
            question: "C√¢u h·ªèi 10: Em y√™u ch·ªã v√¨ ƒëi·ªÅu g√¨ nh·∫•t?",
            answers: [
                { text: "V√¨ ch·ªã xinh", correct: true },
                { text: "V√¨ ch·ªã t·ªët b·ª•ng", correct: true },
                { text: "V√¨ ch·ªã lu√¥n l√† ch·ªã", correct: true },
                { text: "T·∫•t c·∫£ c√°c ƒë√°p √°n tr√™n", correct: true } // M·∫´u c√¢u nhi·ªÅu ƒë√°p √°n ƒë√∫ng
            ]
        }
    ];
    // -----------------------------------------------------------------

    const questionContainer = document.getElementById('question-container');
    const questionText = document.getElementById('question-text');
    const answerButtons = document.getElementById('answer-buttons');
    const nextBtn = document.getElementById('next-btn');
    const resultContainer = document.getElementById('result-container');
    const scoreText = document.getElementById('score-text');
    const resultMessage = document.getElementById('result-message');
    const restartBtn = document.getElementById('restart-btn');

    let currentQuestionIndex, score;

    function startGame() {
        currentQuestionIndex = 0;
        score = 0;
        questionContainer.classList.remove('hide');
        resultContainer.classList.add('hide');
        nextBtn.classList.add('hide');
        showQuestion(questions[currentQuestionIndex]);
    }

    function showQuestion(question) {
        while (answerButtons.firstChild) {
            answerButtons.removeChild(answerButtons.firstChild);
        }
        nextBtn.classList.add('hide');
        questionText.textContent = question.question;

        question.answers.forEach(answer => {
            const button = document.createElement('button');
            button.textContent = answer.text;
            button.classList.add('btn');
            if (answer.correct) {
                button.dataset.correct = true;
            }
            button.addEventListener('click', selectAnswer);
            answerButtons.appendChild(button);
        });
    }

    function selectAnswer(e) {
        const selectedButton = e.target;
        const correct = selectedButton.dataset.correct === "true";

        Array.from(answerButtons.children).forEach(button => {
            button.disabled = true;
            if (button.dataset.correct === "true") {
                button.classList.add('correct');
            } else {
                button.classList.add('wrong');
            }
        });

        if (correct) {
            score++;
        }

        nextBtn.classList.remove('hide');
    }

    function showNextQuestion() {
        currentQuestionIndex++;
        if (currentQuestionIndex < questions.length) {
            showQuestion(questions[currentQuestionIndex]);
        } else {
            showResults();
        }
    }

    function showResults() {
        questionContainer.classList.add('hide');
        nextBtn.classList.add('hide');
        resultContainer.classList.remove('hide');

        scoreText.textContent = `Ch·ªã ƒë√∫ng ${score} / ${questions.length} c√¢u!`;

        if (score === questions.length) {
            resultMessage.textContent = "Tuy·ªát v·ªùi! Ch·ªã hi·ªÉu em qu√° ƒëi m·∫•t. Y√™u ch·ªã ‚ù§Ô∏è";
        } else if (score >= questions.length * 0.7) { // ƒê√∫ng 70% tr·ªü l√™n
            resultMessage.textContent = "Ch·ªã c≈©ng nh·ªõ nhi·ªÅu l·∫Øm ƒë√≥! V√†i c√¢u kia em l·ª´a ch·ªã th√¥i üòâ";
        } else {
            resultMessage.textContent = "Kh√¥ng sao! M√¨nh c√≤n c·∫£ ƒë·ªùi ƒë·ªÉ t√¨m hi·ªÉu nhau c∆° m√†. Y√™u ch·ªã! ü•∞";
        }
    }

    nextBtn.addEventListener('click', showNextQuestion);
    restartBtn.addEventListener('click', startGame);

    startGame();
</script>

</body>
</html>